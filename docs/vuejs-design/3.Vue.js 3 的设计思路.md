# Vue.js 3 的设计思路

## 声明式地描述 UI

- DOM 元素：例如是 div 标签还是 a 标签。
- 属性：如 a 标签的 href 属性，再如 id、class 等通用属性。
- 事件：如 click、keydown 等。
- 元素的层级结构：DOM 树的层级结构，既有子节点，又有父节点。

使用 JavaScript 对象来描述 UI 的方式，其实就是所谓的虚拟 DOM

## 初识渲染器

渲染器的实现思路

- 创建元素：把 vnode.tag 作为标签名称来创建 DOM 元素。
- 为元素添加属性和事件：遍历 vnode.props 对象，如果 key 以 on 字符开头，说明它是一个事件，把字符 on 截取掉后再调用 toLowerCase 函数将事件名称小写化，最终得到合法的事件名称，例如 onClick 会变成 click，最后调用 addEventListener 绑定事件处理函数。
- 处理 children：如果 children 是一个数组，就递归地调用 renderer 继续渲染，注意，此时我们要把刚刚创建的元素作为挂载点（父节点）；如果 children 是字符串，则使用 createTextNode 函数创建一个文本节点，并将其添加到新创建的元素内。

## 组件的本质

组件就是一组 DOM 元素的封装

- 函数式
- 对象式

## 模板的工作原理

编译器的作用其实就是将模板编译为渲染函数

## Vue.js 是各个模块组成的有机整体

组件的实现依赖于渲染器，模板的编译依赖于编译器
编译节点能够标注那些是会变化的
