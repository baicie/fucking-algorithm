### 前端路由实现

对于 Web 开发来说，路由的实质是 URL 到对应的处理程序的映射。
前端路由根据实现方式不同，可以分为Hash路由和History路由

前端路由对于服务端路由来说，最显著的特点是页面可以在无刷新的情况下进行页面切换。基于这一特点，诞生了一种无刷新的单页面应用开发模式spa。同感前端路由避免了页面切换打断用户体验，让web应用的体验更接近一个桌面应用程序。

#### 1. Hash路由

其中fragment是hash路由所读取的内容
本质上是用来标识次级资源

- 修改-不会触发页面重载
- 修改- 不会改变浏览器的历史记录
- 修改会触发浏览器的onhashchange事件

##### 1.1 实现原理

通过监听hashchange事件来监听页面hash的变化，解析hash值来切换页面
优点

- 兼容性最佳
- 无需服务端配置

缺点

- 服务端无法获取hash部分内容
- 可能和锚点功能冲突
- seo不友好

#### 2. History路由

History 路由则是通过浏览器原生提供的操作 History 的能力来实现的路由功能。

##### 2.1 实现原理

history路由核心主要依赖history api里面的两个方法和一个事件，两个方法用于操作浏览器的历史记录，事件用于监听历史记录的切换

**方法**

- history.pushState:将给定的数据添加到当前标签页面的历史记录栈中
- history.repleaceState:将给定的数据更新到历史记录栈的最新一条记录中

**事件**

- popstate：监听历史记录的变化

##### 2.2优缺点

**优点**

- 服务端可获取完整的链接和参数
- 前端监控友好
- SEO相对Hash路由友好

**缺点**

- 兼容性稍弱
- 需要服务端额外配置

#### 3.前端路由的优缺点

**优点**

- 无刷新切换内容用户体验更佳
- 减轻服务端的压力
**缺点**
- 初次加载耗时时长
- SEO效果不佳
